import{d as E,r as i,c as r,w as f,C as a,D as e,N as b,ap as B,z as d,H as R,ah as D,V as F,L as I,M as N,u as S,O as z,I as p,K as g,ad as P}from"./element-plus-qgwGTzxg.js";import{i as l,m as T}from"./utils-DWTWu0JZ.js";import{d as H}from"./mainAppView-035_X34S.js";const K={class:"search-panel"},M={key:1},O={class:"inner-box"},U={key:0},$=["onClick"],j={class:"title"},q={class:"path"},A={key:1},G=E({__name:"SearchPanel",emits:["change:loading","change:tipLoad"],setup(J,{expose:k,emit:y}){const u=y,s=i(!1),_=r(()=>!l.ready);f(()=>s.value,n=>{u("change:loading",n)},{immediate:!0}),f(()=>_.value,n=>{u("change:tipLoad",n)},{immediate:!0});const w=r(()=>l.repo),x=r(()=>l.branch),o=i(""),c=i([]),m=async()=>{o.value&&(s.value=!0,c.value=await l.searchFiles(o.value),setTimeout(()=>{s.value=!1},1e3))};return k({refresh:m}),(n,h)=>{const v=B,C=D,L=P,V=F;return e(),a("div",K,[_.value?(e(),b(v,{key:0,description:"离线模式无法搜索远程文件"})):(e(),a("div",M,[d(C,{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=t=>o.value=t),style:{width:"100%"},clearable:"",autosize:{minRows:1,maxRows:5},placeholder:"搜索",onChange:m},null,8,["modelValue"]),R((e(),a("div",O,[c.value.length>0?(e(),a("div",U,[(e(!0),a(I,null,N(c.value,t=>(e(),a("div",{class:"result-item",onClick:Q=>S(T)(t.path,w.value,x.value),key:t.path},[d(L,{effect:"dark",content:t.path,placement:"right-start"},{default:z(()=>[p("span",null,[p("span",j,g(t.name),1),p("div",q,g(t.path),1)])]),_:2},1032,["content"])],8,$))),128))])):(e(),a("div",A,[d(v,{description:"无搜索结果"})]))])),[[V,s.value]])]))])}}}),Z=H(G,[["__scopeId","data-v-ceee3819"]]);export{Z as default};
